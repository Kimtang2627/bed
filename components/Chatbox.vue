<template>
  <div class="chatbox">
    <div class="title-bar br10 flex">
      <div class="status-container flex">
        <!-- Profile Picture  -->
        <div class="circle-profile">
          <svg
            width="48"
            height="48"
            viewBox="0 0 48 48"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M48 24C48 10.7452 37.2548 0 24 0C10.7452 0 0 10.7452 0 24C0 37.2548 10.7452 48 24 48C37.2548 48 48 37.2548 48 24Z"
              fill="#E4ECF7"
            />
            <path
              d="M13.5 31.5C15.5711 31.5 17.25 29.8211 17.25 27.75C17.25 25.6789 15.5711 24 13.5 24C11.4289 24 9.75 25.6789 9.75 27.75C9.75 29.8211 11.4289 31.5 13.5 31.5Z"
              fill="#836055"
            />
            <path
              d="M13.5 30.75H26.25V49.4025C26.25 49.4025 23.5178 51 19.875 51C16.2323 51 13.5 48.3923 13.5 48.3923V30.75Z"
              fill="#836055"
            />
            <path
              d="M26.25 40.4011C26.25 44.6416 23.625 45.0001 21.2873 44.2396C18.9503 43.4806 14.25 36.8656 14.25 32.6251C14.25 28.3846 14.838 28.5001 18.3098 28.5001C28.125 28.8751 26.25 36.1606 26.25 40.4011Z"
              fill="#553329"
            />
            <path
              d="M34.4143 27.075C34.4143 33.7665 31.4983 41.25 26.6233 42.375C19.4983 41.625 13.0708 33.7665 13.0708 27.075C11.2498 19.125 11.6248 9.75 23.9998 9.75C36.3748 9.75 34.4143 20.3827 34.4143 27.075Z"
              fill="#836055"
            />
            <path
              d="M28.5 30.75H27.75C27.3358 30.75 27 31.0858 27 31.5C27 31.9142 27.3358 32.25 27.75 32.25H28.5C28.9142 32.25 29.25 31.9142 29.25 31.5C29.25 31.0858 28.9142 30.75 28.5 30.75Z"
              fill="#68463C"
            />
            <path
              d="M28.5 45H12C8.27208 45 5.25 48.0221 5.25 51.75V55.5C5.25 59.2279 8.27208 62.25 12 62.25H28.5C32.2279 62.25 35.25 59.2279 35.25 55.5V51.75C35.25 48.0221 32.2279 45 28.5 45Z"
              fill="#E05A33"
            />
            <path
              d="M-0.000878096 7.49848C5.99687 1.50148 9.74987 9.74923 9.74987 9.74923L8.24837 15.7492C8.24837 15.7492 6.74837 17.6242 8.24837 23.2492C9.74837 28.8742 6.37337 31.8742 6.37337 31.8742C6.37337 31.8742 3.74837 33.75 1.49837 32.25C-0.751628 30.75 -1.04938 29.3085 -0.751628 26.625C-0.376628 23.25 0.748372 24.3735 0.748372 20.9985C0.748372 17.6235 -5.99938 13.4955 -0.00162816 7.49848H-0.000878096Z"
              fill="#1B0B47"
            />
            <path
              d="M9.77236 9.88574L13.9034 11.6722L11.2244 17.8672L7.09411 16.0822C7.09411 16.0822 6.37411 14.625 7.49911 12.3757C8.62186 10.1257 9.77311 9.88574 9.77311 9.88574H9.77236Z"
              fill="#FF6C98"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M13.4998 30.7499L12.5075 24.1326C11.6313 24.3722 10.8718 24.9217 10.3701 25.679C9.86846 26.4364 9.65878 27.3501 9.78004 28.2504C9.9013 29.1507 10.3452 29.9764 11.0294 30.574C11.7135 31.1717 12.5914 31.5007 13.4998 31.4999V37.7249C12.3109 36.6702 11.2797 35.4502 10.4375 34.1024C9.16255 32.0744 8.27155 29.7494 7.82605 27.2826C7.3808 24.8091 7.39097 22.275 7.85605 19.8051C8.32105 17.3429 9.2308 15.0276 10.523 13.0139C11.8145 11.0009 13.4593 9.33661 15.3456 8.13436C17.2311 6.93136 19.3146 6.21811 21.4558 6.04261C21.9218 6.00448 22.3895 5.99196 22.8568 6.00511C24.8517 5.95235 26.8376 6.28992 28.7031 6.99886C30.4318 7.65886 32.0031 8.62561 33.3261 9.84436C34.6329 11.0403 35.6838 12.4887 36.4153 14.1021C36.9717 15.3356 37.3203 16.6526 37.4473 17.9999H37.4998V21.2144C37.4998 21.2144 37.2531 21.3284 36.7513 21.4889V27.8549C36.7513 27.8549 36.7513 28.9079 35.6263 29.6969C35.2363 29.9706 34.7128 30.1806 34.1938 30.3389C34.3409 29.2568 34.4153 28.1661 34.4166 27.0741C34.4166 26.2986 34.4428 25.4699 34.4698 24.6111C34.4968 23.7726 34.5246 22.9049 34.5298 22.0304C33.1408 22.2846 31.2546 22.4999 28.8463 22.4999C22.9603 22.4999 19.4998 21.2144 19.4998 21.2144V20.4651C18.9898 21.2631 18.4378 22.2276 17.9998 23.2499C17.4373 24.5624 17.4373 25.9079 17.4373 27.0381C17.4373 28.1691 17.4373 29.0856 16.8748 29.5394C15.7498 30.4469 13.4998 30.7499 13.4998 30.7499Z"
              fill="#1B0B47"
            />
            <path
              d="M24.75 28.125C24.75 27.5037 24.2463 27 23.625 27C23.0037 27 22.5 27.5037 22.5 28.125V28.875C22.5 29.4963 23.0037 30 23.625 30C24.2463 30 24.75 29.4963 24.75 28.875V28.125Z"
              fill="#1B0B47"
            />
            <path
              d="M32.25 28.125C32.25 27.5037 31.7463 27 31.125 27C30.5037 27 30 27.5037 30 28.125V28.875C30 29.4963 30.5037 30 31.125 30C31.7463 30 32.25 29.4963 32.25 28.875V28.125Z"
              fill="#1B0B47"
            />
            <path
              d="M20.625 29.25H19.125C18.5037 29.25 18 29.7537 18 30.375C18 30.9963 18.5037 31.5 19.125 31.5H20.625C21.2463 31.5 21.75 30.9963 21.75 30.375C21.75 29.7537 21.2463 29.25 20.625 29.25Z"
              fill="#FF859B"
            />
            <path
              d="M34.125 29.25H33.375C32.7537 29.25 32.25 29.7537 32.25 30.375C32.25 30.9963 32.7537 31.5 33.375 31.5H34.125C34.7463 31.5 35.25 30.9963 35.25 30.375C35.25 29.7537 34.7463 29.25 34.125 29.25Z"
              fill="#FF859B"
            />
          </svg>
        </div>
        <!-- Status Part -->
        <div class="status">
          <div class="name-status">
            Kate Nash
          </div>
          <div class="status-block">Online 5 hours</div>
        </div>
      </div>

      <!-- Button part -->
      <span>
        <button @click="toggle_filter">
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M5.53876 8.99991C5.53876 8.2356 4.91845 7.61529 4.15415 7.61529C3.38984 7.61529 2.76953 8.2356 2.76953 8.99991C2.76953 9.76421 3.38984 10.3845 4.15415 10.3845C4.91845 10.3845 5.53876 9.76421 5.53876 8.99991ZM7.61567 8.99991C7.61567 9.76421 8.23598 10.3845 9.00029 10.3845C9.76459 10.3845 10.3849 9.76421 10.3849 8.99991C10.3849 8.2356 9.76459 7.61529 9.00029 7.61529C8.23598 7.61529 7.61567 8.2356 7.61567 8.99991ZM13.8464 10.3845C13.0821 10.3845 12.4618 9.76421 12.4618 8.99991C12.4618 8.2356 13.0821 7.61529 13.8464 7.61529C14.6107 7.61529 15.231 8.2356 15.231 8.99991C15.231 9.76421 14.6107 10.3845 13.8464 10.3845Z"
              fill="#231F20"
            />
            <mask
              id="mask0"
              mask-type="alpha"
              maskUnits="userSpaceOnUse"
              x="2"
              y="7"
              width="14"
              height="4"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M5.53876 8.99991C5.53876 8.2356 4.91845 7.61529 4.15415 7.61529C3.38984 7.61529 2.76953 8.2356 2.76953 8.99991C2.76953 9.76421 3.38984 10.3845 4.15415 10.3845C4.91845 10.3845 5.53876 9.76421 5.53876 8.99991ZM7.61567 8.99991C7.61567 9.76421 8.23598 10.3845 9.00029 10.3845C9.76459 10.3845 10.3849 9.76421 10.3849 8.99991C10.3849 8.2356 9.76459 7.61529 9.00029 7.61529C8.23598 7.61529 7.61567 8.2356 7.61567 8.99991ZM13.8464 10.3845C13.0821 10.3845 12.4618 9.76421 12.4618 8.99991C12.4618 8.2356 13.0821 7.61529 13.8464 7.61529C14.6107 7.61529 15.231 8.2356 15.231 8.99991C15.231 9.76421 14.6107 10.3845 13.8464 10.3845Z"
                fill="white"
              />
            </mask>
            <g mask="url(#mask0)">
              <rect
                x="0.692383"
                y="17.3076"
                width="16.6154"
                height="16.6154"
                transform="rotate(-90 0.692383 17.3076)"
                fill="#707C97"
              />
            </g>
          </svg>
          <ul class="dropdown br10 flex " v-show="selected">
            <div class="flex ml-17">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.1659 0.58942C14.4509 0.304506 14.9051 0.30283 15.201 0.588582C15.4884 0.876009 15.4884 1.34025 15.2018 1.62684L1.62573 15.2021C1.4908 15.3371 1.29637 15.4167 1.10696 15.4167C0.921744 15.4167 0.739042 15.3412 0.59154 15.2047C0.30324 14.9055 0.30324 14.4505 0.589026 14.1647L2.8267 11.9273H2.80407C1.68859 11.9273 0.876488 11.1396 0.725633 9.91616C0.557179 8.6927 0.590702 6.59775 0.725633 5.48323C0.88403 4.32682 1.73971 3.53157 2.80407 3.53157H4.25312L7.01878 1.26902C7.35485 0.984109 7.94989 0.715117 8.41 0.707575C9.24808 0.707575 10.0191 1.29332 10.2957 2.23186C10.4046 2.62655 10.4474 3.01957 10.4809 3.3975L10.5471 3.93297C10.558 4.01509 10.5681 4.09386 10.5764 4.17766L14.1659 0.58942ZM9.78068 8.87069C9.89382 8.76008 10.1469 8.68047 10.2609 8.7098C10.5685 8.78773 10.6288 9.22935 10.6238 9.57627C10.6095 10.5835 10.576 11.2841 10.5224 11.7173L10.4847 12.0743L10.484 12.0809C10.4482 12.44 10.4111 12.8116 10.3045 13.2081C10.0254 14.1449 9.27699 14.7533 8.42634 14.7533C8.39868 14.7533 8.37103 14.7533 8.34253 14.7525C7.87237 14.7525 7.36281 14.4709 7.07368 14.2254L6.04367 13.4285C5.65229 13.1377 5.76795 12.6734 5.98752 12.4045C6.1515 12.2042 8.1223 10.395 9.1574 9.4448C9.50841 9.12257 9.75181 8.89912 9.78068 8.87069Z" fill="#5A5A5A"/>
</svg>

              <li>Mute Chat</li>
            </div>
            <div class="flex ml-17">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.1335 11.6667L9.7335 2.33332C9.20017 1.39999 7.9335 1.06666 7.00017 1.59999C6.66684 1.79999 6.40017 2.06666 6.26684 2.33332L0.866837 11.6667C0.333504 12.6 0.666837 13.8667 1.60017 14.4C1.9335 14.6 2.26684 14.6667 2.60017 14.6667H13.3335C14.4668 14.6667 15.3335 13.7333 15.3335 12.6667C15.4002 12.2667 15.2668 11.9333 15.1335 11.6667ZM8.00017 12C7.60017 12 7.3335 11.7333 7.3335 11.3333C7.3335 10.9333 7.60017 10.6667 8.00017 10.6667C8.40017 10.6667 8.66684 10.9333 8.66684 11.3333C8.66684 11.7333 8.40017 12 8.00017 12ZM8.66684 8.66666C8.66684 9.06666 8.40017 9.33332 8.00017 9.33332C7.60017 9.33332 7.3335 9.06666 7.3335 8.66666V5.99999C7.3335 5.59999 7.60017 5.33332 8.00017 5.33332C8.40017 5.33332 8.66684 5.59999 8.66684 5.99999V8.66666Z" fill="#5A5A5A"/>
</svg>

              <li>Report User</li>
            </div>
            <div class="flex ml-17">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2.75 5.66667H13.25V13.25C13.25 14.2165 12.4665 15 11.5 15H4.5C3.5335 15 2.75 14.2165 2.75 13.25V5.66667ZM6.25 12.0833V8H5.08333V12.0833H6.25ZM8.58333 12.0833V8H7.41667V12.0833H8.58333ZM10.9167 12.0833V8H9.75V12.0833H10.9167ZM14.4167 3.33333C14.7388 3.33333 15 3.5945 15 3.91667C15 4.23883 14.7388 4.5 14.4167 4.5H1.58333C1.26117 4.5 1 4.23883 1 3.91667C1 3.5945 1.26117 3.33333 1.58333 3.33333H5.08333V1.58333C5.08333 1.26117 5.3445 1 5.66667 1H10.3333C10.6555 1 10.9167 1.26117 10.9167 1.58333V3.33333H14.4167ZM6.25 2.16667V3.33333H9.75V2.16667H6.25Z" fill="#ED702D"/>
</svg>

              <li>Delete Chat</li>
            </div>
          </ul>
        </button>
      </span>
    </div>

    <div class="chatroom">
      <div v-for="(ti,index) in tin" :key="index">
      <span :class="{'sender': !isMine(ti), 'yellow': isMine(ti), 'space': isSame(index) }">
{{tin[index].nhan}}

      </span>
        </div>
    </div>

    <div class="messages-bar"></div>
  </div>
</template>

<script>

// [tin[index].name === 'Kate Nash' ? 'sender' : 'yellow' , tin[index - 1].name === 'Kate Nash' ? 'space' : 'no'  ]"  
export default {
  name: "Chatbox",
  data(){
    return {
        selected: null ,
        tin:[
          {
            name:"Kate Nash",
            nhan:"thu nghirem jgdkgjhsdfig uioerutfjgklrigorpgo lgfghjljpkjfldgjirjghlieropgjgprogkl;dfkgjpr "
          },
         {
            name:"Kate Nash",
            nhan:"thu nghirem "
          },
          {
            name:"Kate",
            nhan:"thu nghirem "
          },
          {
            name:"Kate",
            nhan:"thu nghirem "
          },
          {
            name:"Kate",
            nhan:"thu nghirem "
          },
        ]
    }
  },
  methods: {
    toggle_filter() {
      return (this.selected = !this.selected);
    },
    isMine(message) {
      return message.name === 'Kate'
    },
    isSame(index) {
      const { tin } = this; 
      if (index === 0) return false;
      else {
        const previous = tin[index-1];
        const current = tin[index];
        return previous.name !== current.name;
      }
    }
  }
};
</script>

<style lang="scss">
.chatbox {
  width: 44rem;
  height: 100vh;

  .title-bar {
    width: 100%;
    height: 6rem;
    background-color: white;
    align-items: center;
    justify-content: space-between;

    .status-container {
      margin-left: 1.25rem;
      width: 12.5rem;
      align-items: center;
      justify-content: space-evenly;

      .status {
        .name-status {
          font-size: 1.125rem;
          line-height: 1.3125rem;
        }

        .status-block {
          font-size: 0.9375rem;
          line-height: 1.125rem;
        }
      }
    }

    button {
      margin-right: 2.6875rem;
      background: white;
      border: none;
      border-radius: 100%;
      width: 2.25rem;
      height: 2.25rem;
      box-shadow: 0px 0.625rem 0.9375rem rgba(0, 0, 0, 0.03),
        0px 0.54rem 1.5625rem rgba(42, 139, 242, 0.03),
        0px 0.3125rem 1.5625rem rgba(42, 139, 242, 0.07);
      position: relative;

      ul {
        flex-direction: column;
        box-shadow: 0px 0.4375rem 1.25rem rgba(0, 0, 0, 0.07);
        position: absolute;
        list-style: none;
        width: 9.625rem;
        height: 7.785rem;
        background: white;
        align-items: flex-start ;
        justify-content: space-evenly;

          li{
            margin-left: 0.625rem;
            color: #5A5A5A;
            font-size: 0.8125rem;
line-height: 1.125rem;
          }
      }
    }
  }

  .chatroom {
    height: 34.68rem;
    width: 100%;
    background: white;
    .space{
      margin-top: 20px;
    }
    .yellow{
      margin-left: 276px;
      display: flex;
        justify-content: flex-end;
        align-items: center;
        background: pink;
        border-radius: 10px 10px 10px 0px;
        font-size: 15px;
line-height: 20px;
width: 419px ;
    }
      .sender{
        display: flex;
        justify-content: center;
        align-items: center;
        background: #ED702D;
        border-radius: 10px 10px 10px 0px;
        font-size: 15px;
line-height: 20px;
width: 419px ;
  span{
    width: 70%;
  }
/* or 133% */

text-transform: uppercase;

color: #FFFFFF;
      }
  }

  .messages-bar {
    height: 11.5rem;
    width: 100%;
    background: #867f7f;
    
  }
}
</style>
